#### USED SNAP
---
---


```bash
#!/bin/bash

INS="114"
ldevs="00:15:02 00:15:03 00:15:04 00:15:05 00:15:06 00:15:07 00:15:08 00:15:09 00:15:0A 00:15:0B 00:15:0C 00:15:0D 00:15:0E 00:15:0F 00:15:10 00:15:11 00:15:12 00:15:13 00:15:14 00:15:15 00:15:16 00:15:17 00:15:18 00:15:19 00:15:1A 00:15:1B 00:15:1C 00:15:1D 00:15:1E 00:15:1F 00:15:20 00:15:21 00:15:22 00:15:23 00:15:24 00:15:25 00:15:26 00:15:27 00:15:28 00:15:29 00:15:2A 00:15:2B 00:15:2C 00:15:2D 00:15:2E 00:15:2F 00:15:30 00:15:31 00:15:32 00:15:33 00:15:34 00:15:35 00:15:36 00:15:37 00:15:38 00:15:39 00:15:3A 00:15:3B 00:15:3C 00:15:3D 00:15:3E 00:15:3F 00:15:40 00:15:41 00:15:42 00:15:43 00:15:44 00:15:45 00:15:46 00:15:47 00:15:48 00:15:49 00:15:4A 00:15:4B 00:15:4C 00:15:4D 00:15:4E 00:15:4F 00:15:50 00:15:51 00:15:52 00:15:53 00:15:54 00:15:55 00:15:56 00:15:57 00:15:58 00:15:59 00:15:5A 00:15:5B 00:15:5C 00:15:5D 00:15:5E 00:15:5F 00:15:60 00:15:61 00:15:62 00:15:63 00:15:64 00:15:65 00:15:66 00:15:67 00:15:68 00:15:69 00:15:6A 00:15:6B 00:15:6C 00:15:6D 00:15:6E 00:15:6F 00:15:70 00:15:71 00:15:72 00:15:73 00:15:74 00:15:75 00:15:76 00:15:77 00:15:78 00:15:79 00:15:7A 00:15:7B 00:15:7C 00:15:7D 00:15:7E 00:15:7F 00:15:80 00:15:81 00:15:82 00:15:83 00:15:84 00:15:85 00:15:86 00:15:87 00:15:88 00:15:89 00:15:8A 00:15:8B 00:15:8C 00:15:8D 00:15:8E 00:15:8F 00:15:90 00:15:91 00:15:92 00:15:93 00:15:94 00:15:95 00:15:96 00:15:97 00:15:98 00:15:99 00:15:9A 00:15:9B 00:15:9C 00:15:9D 00:15:9E 00:15:9F 00:15:A0 00:15:A1 00:15:A2 00:15:A3 00:15:A4 00:15:A5 00:15:A6 00:15:A7 00:15:A8 00:15:A9 00:15:AA 00:15:AB 00:15:AC 00:15:AD 00:15:AE 00:15:AF 00:15:B0 00:15:B1 00:15:B2 00:15:B3 00:15:B4 00:15:B5 00:15:B6 00:15:B7 00:15:B8 00:15:B9 00:15:BA 00:15:BB 00:15:BC 00:15:BD 00:15:BE 00:15:BF 00:15:C0 00:15:C1 00:15:C2 00:15:C3 00:15:C4 00:15:C5 00:15:C6 00:15:C7 00:15:C8 00:15:C9 00:15:CA 00:15:CB 00:15:CC 00:15:CD 00:15:CE 00:15:CF 00:15:D0 00:15:D1 00:15:D2 00:15:D3 00:15:D4 00:15:D5 00:15:D6 00:15:D7 00:15:D8 00:15:D9 00:15:DA 00:15:DB 00:15:DC 00:15:DD 00:15:DE 00:15:DF 00:15:E0 00:15:E1 00:15:E2 00:15:E3 00:15:E4 00:15:E5 00:15:E6 00:15:E7 00:15:E8 00:15:E9 00:15:EA 00:15:EB 00:15:EC 00:15:ED 00:15:EE 00:15:EF 00:15:F0 00:15:F1 00:15:F2 00:15:F3 00:15:F4 00:15:F5 00:15:F6 00:15:F7 00:15:F8 00:15:F9 00:15:FA 00:15:FB 00:15:FC 00:15:FD 00:15:FE 00:15:FF 00:16:00 00:16:01 00:16:02 00:16:03 00:16:04 00:16:05 00:16:06 00:16:07 00:16:08 00:16:09 00:16:0A 00:16:0B 00:16:0C 00:16:0D 00:16:0E 00:16:0F 00:16:10 00:16:11 00:16:12 00:16:13 00:16:14 00:16:15 00:16:16 00:16:17 00:16:18 00:16:19 00:16:1A 00:16:1B 00:16:1C 00:16:1D 00:16:1E 00:16:1F 00:16:20 00:16:21 00:16:22 00:16:23 00:16:24 00:16:25 00:16:26 00:16:27 00:16:28 00:16:29 00:16:2A 00:16:2B 00:16:2C 00:16:2D 00:16:2E 00:16:2F 00:16:30 00:16:31 00:16:32 00:16:33 00:16:34 00:16:35 00:16:36 00:16:37 00:16:38 00:16:39 00:16:3A 00:16:3B 00:16:3C 00:16:3D 00:16:3E 00:16:3F 00:16:40 00:16:41 00:16:42 00:16:43 00:16:44 00:16:45 00:16:46 00:16:47 00:16:48 00:16:49 00:16:4A 00:16:4B 00:16:4C 00:16:4D 00:16:4E 00:16:4F 00:16:50 00:16:51 00:16:52 00:16:53 00:16:54 00:16:55 00:16:56 00:16:57 00:16:58 00:16:59 00:16:5A 00:16:5B 00:16:5C 00:16:5D 00:16:5E 00:16:5F 00:16:60 00:16:61 00:16:62 00:16:63 00:16:64 00:16:65 00:16:66 00:16:67 00:16:68 00:16:69 00:16:6A 00:16:6B 00:16:6C 00:16:6D 00:16:6E 00:16:6F 00:16:70 00:16:71 00:16:72 00:16:73 00:16:74 00:16:75 00:16:76 00:16:77 00:16:78 00:16:79 00:16:7A 00:16:7B 00:16:7C 00:16:7D 00:16:7E 00:16:7F 00:16:80 00:16:81 00:16:82 00:16:83 00:16:84 00:16:85 00:16:86 00:16:87 00:16:88 00:16:89 00:16:8A 00:16:8B 00:16:8C 00:16:8D 00:16:8E 00:16:8F 00:16:90 00:16:91 00:16:92 00:16:93 00:16:94 00:16:95 00:16:96 00:16:97 00:16:98 00:16:99 00:16:9A 00:16:9B 00:16:9C 00:16:9D 00:16:9E 00:16:A1 00:16:A2 00:16:A3 00:16:A4 00:16:A5 00:16:A6 00:16:A7 00:16:A8 00:16:A9 00:16:AA 00:16:AB 00:16:AC 00:16:AD 00:16:AE 00:16:AF 00:16:B0 00:16:B1 00:16:B2 00:16:B3 00:16:B4 00:16:B5 00:16:B6 00:16:B7 00:16:B8 00:16:B9 00:16:BA 00:16:BB 00:16:BC 00:16:BD 00:16:BE 00:16:BF 00:16:C0 00:16:C1 00:16:C2 00:16:C3 00:16:C4 00:16:C5 00:16:C6 00:16:C7 00:16:C8 00:16:C9 00:16:CA 00:16:CB 00:16:CC 00:16:CD 00:16:CE 00:16:CF 00:16:D0 00:16:D1 00:16:D2 00:16:D3 00:16:D4 00:16:D5 00:16:D6 00:16:D7 00:16:D8 00:16:D9 00:16:DA 00:16:DB 00:16:DC 00:16:DD 00:16:DE 00:16:DF 00:16:E0 00:16:E1 00:16:E2 00:16:E3 00:16:E4 00:16:E5 00:16:E6 00:16:E7 00:16:E8 00:16:E9 00:16:EA 00:16:EB 00:16:EC 00:16:ED 00:16:EE 00:16:EF 00:16:F0 00:16:F1 00:16:F2 00:16:F3 00:16:F4 00:16:F5 00:16:F6 00:16:F7 00:16:F8 00:16:F9 00:16:FA 00:16:FB 00:16:FC 00:16:FD 00:16:FE 00:16:FF 00:17:00 00:17:01 00:17:02 00:17:03 00:17:04 00:17:05 00:17:06 00:17:07 00:17:08 00:17:09 00:17:0A 00:17:0B 00:17:0C 00:17:0D 00:17:0E 00:17:0F 00:17:10 00:17:11 00:17:12 00:17:13 00:17:14 00:17:15 00:17:16 00:17:17 00:17:18 00:17:19 00:17:1A 00:17:1B 00:17:1C 00:17:1D 00:17:1E 00:17:1F 00:17:20 00:17:21 00:17:22 00:17:23 00:17:24 00:17:25 00:17:26 00:17:27 00:17:28 00:17:29 00:17:2A 00:17:2B 00:17:2C 00:17:2D 00:17:2E 00:17:2F 00:17:30 00:17:31 00:17:32 00:17:33 00:17:34 00:17:35 00:17:36 00:17:37 00:17:38 00:17:39 00:17:3A 00:17:3B 00:17:3C 00:17:3D 00:17:3E 00:17:3F 00:17:40 00:17:41 00:17:42 00:17:43 00:17:44 00:17:45 00:17:46 00:17:47 00:17:48 00:17:49 00:17:4A 00:17:4B 00:17:4C 00:17:4D 00:17:4E 00:17:4F 00:17:50 00:17:51 00:17:52 00:17:53 00:17:54 00:17:55 00:17:56 00:17:57 00:17:58 00:17:59 00:17:5A 00:17:5B 00:17:5C 00:17:5D 00:17:5E 00:17:5F 00:17:60 00:17:61 00:17:62 00:17:63 00:17:64 00:17:65 00:17:66 00:17:67 00:17:68 00:17:69 00:17:6A 00:17:6B 00:17:6C 00:17:6D 00:17:6E 00:17:6F 00:17:70 00:17:71 00:17:72 00:17:73 00:17:74 00:17:75 00:17:76 00:17:77 00:17:78 00:17:79 00:17:7A 00:17:7B 00:17:7C 00:17:7D 00:17:7E 00:17:7F 00:17:80 00:17:81 00:17:82 00:17:83 00:17:84 00:17:85 00:17:86 00:17:87 00:17:88 00:17:89 00:17:8A 00:17:8B 00:17:8C 00:17:8D 00:17:8E 00:17:8F 00:17:90 00:17:91 00:17:92 00:17:93 00:17:94 00:17:95 00:17:96 00:17:97 00:17:98 00:17:99 00:17:9A 00:17:9B 00:17:9C"

SNAP_USED_POOL=0
SNAP_USED_TOTAL=0
SNAP_GARBAGE_TOTAL=0
NUM='^[0-9]+$'
for ldev in ${ldevs}; do
	r=""
	r=$(raidcom get ldev -ldev_id ${ldev} -I${INS})
	snap_used_pool=$(echo "${r}" | grep Snap_Used_Pool | awk -F" : " '{ print $2}')
	snap_used=$(echo "${r}" | grep SNAP_USED | awk -F" : " '{ print $2}')
	snap_garbage=$(echo "${r}" | grep -v DELETING | grep SNAP_GARBAGE | awk -F" : " '{ print $2}')
	 ${snap_used_pool} =~ ${NUM}  && SNAP_USED_POOL=$(( ${SNAP_USED_POOL} + ${snap_used_pool} ))
	 ${snap_used} =~ ${NUM}  && SNAP_USED_TOTAL=$(( ${SNAP_USED_TOTAL} + ${snap_used} ))
	 ${snap_garbage} =~ ${NUM}  && SNAP_GARBAGE_TOTAL=$(( ${SNAP_GARBAGE_TOTAL} + ${snap_garbage} ))    
done

SNAP_USED_POOL=$(( ${SNAP_USED_POOL} / 1024 ))
SNAP_USED_TOTAL=$(( ${SNAP_USED_TOTAL} / 1024 ))
SNAP_GARBAGE_TOTAL=$(( ${SNAP_GARBAGE_TOTAL} / 1024 ))


paste <(echo "SNAP USED POOL (GB)"$'\n'"${SNAP_USED_POOL}") \
		<(echo "SNAP USED TOTAL (GB)"$'\n'"${SNAP_USED_TOTAL}") \
		<(echo "SNAP GARBAGE TOTAL (GB)"$'\n'"${SNAP_GARBAGE_TOTAL}") | column -s $'\t' -t

```