<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>alert-mail</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
  <style type="text/css">
  <!--
  @page { size: 8.27in 11.69in }
  H1  { font-family: "Verdana", sans-serif }
  H2  { font-family: "Verdana", sans-serif }
  H3  { font-family: "Verdana", sans-serif }
  H4  { font-family: "Verdana", sans-serif }
  P   { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  PRE { font-family: "Courier", monospace;  font-size: 12pt; margin-left: 40px; }
  DT  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  LI  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  -->
  </style>

</head>
<body style="background-color: white">
<!--Start header -->
<!-- html created: 2023-03-05 07:29:14 +0000 oemId: 1 -->
<h1>alert-mail</h1>
<p>Report/configure alerts by email</p>
<h1>Syntax</h1>
<pre>alert-mail operation
where &#39;operation&#39; is one of:
list
set (--smtpaddr | -a) &lt;addr&gt; (--smtpfrom | -f) &lt;email&gt;
add (--profile | -p) &lt;profile&gt; &lt;recipient&gt;
del (--profile | -p) &lt;profile&gt; &lt;recipient&gt;
delall (--profile | -p) &lt;profile&gt;
addprofile [(--html | -h) &lt;yes|no&gt;] [(--disclose | -d) &lt;yes|no&gt;]
           [(--encode | -e) &lt;yes|no&gt;] [(--dailystatus | -a) &lt;yes|no&gt;]
           [(--emptyemails | -m) &lt;yes|no&gt;]
           [(--ignorendmpevents | -n) &lt;yes|no&gt;]
           [(--enabled | -b) &lt;yes|no&gt;]
           [(--excludeattachments | -c) &lt;yes|no&gt;]
           [(--severe | -s) &lt;i|s|n&gt;] [(--warning | -w) &lt;i|s|n&gt;]
           [(--info | -i) &lt;i|s|n&gt;]
           [(--maxemaillength | -x) &lt;max. email length&gt;]
           [--summ1 &lt;hh:mm&gt;] [--summ2 &lt;hh:mm&gt;]
           &lt;profilename&gt;
delprofile &lt;profilename&gt;
setprofile [(--html | -h) &lt;yes|no&gt;] [(--disclose | -d) &lt;yes|no&gt;]
           [(--encode | -e) &lt;yes|no&gt;] [(--dailystatus | -a) &lt;yes|no&gt;]
           [(--emptyemails | -m) &lt;yes|no&gt;]
           [(--ignorendmpevents | -n) &lt;yes|no&gt;]
           [(--enabled | -b) &lt;yes|no&gt;]
           [(--excludeattachments | -c) &lt;yes|no&gt;]
           [(--severe | -s) &lt;i|s|n&gt;] [(--warning | -w) &lt;i|s|n&gt;]
           [(--info | -i) &lt;i|s|n&gt;]
           [(--maxemaillength | -x) &lt;max. email length&gt;]
           [--summ1 &lt;hh:mm|None&gt;] [--summ2 &lt;hh:mm|None&gt;]
           &lt;profilename&gt;
unset
reset
</pre>

<h1>Description</h1>
<p>Review or edit the SMTP server, email profiles and recipients.</p>
<p>Usage:</p>
<dl>
<dt><strong>list</strong></dt>
<dd><p>Displays the configured SMTP server and email profiles.</p></dd>
<dt><strong>set (--smtpaddr | -a) &lt;addr&gt; (--smtpfrom | -f) &lt;email&gt;</strong></dt>
<dl>
<dt><strong>--smtpaddr | -a</strong></dt>
<dd><p>Set or change the SMTP address.</p></dd>
<dt><strong>--smtpfrom | -f</strong></dt>
<dd><p>Set or change the SMTP 'from' email address. Limited to printable ASCII characters but excluding "(),:;&lt;&gt;[\] and space.</p></dd>
</dl>
<dd><p>SMTP address can be provided in IPv6 form, IPv4 form, or host name. If host name is used, IPv6 addresses will be preferred over IPv4 ones when doing host name resolution.</p></dd>
<dt><strong>add (--profile | -p) &lt;profile&gt; &lt;recipient&gt;</strong></dt>
<dd><p>Adds a recipient to the specified profile. Limited to printable ASCII characters but excluding "(),:;&lt;&gt;[\] and space.</p></dd>
<dt><strong>del (--profile | -p) &lt;profile&gt; &lt;recipient&gt;</strong></dt>
<dd><p>Deletes a recipient from the specified profile.</p></dd>
<dt><strong>delall (--profile | -p) &lt;profile&gt;</strong></dt>
<dd><p>Deletes all the recipients on the specified profile.</p></dd>
</dl>
<dl>
<dt><strong>addprofile [(--html | -h) &lt;yes|no&gt;] [(--disclose | -d) &lt;yes|no&gt;] [(--encode | -e) &lt;yes|no&gt;] [(--dailystatus | -a) &lt;yes|no&gt;] [(--emptyemails | -m) &lt;yes|no&gt;] [(--ignorendmpevents | -n) &lt;yes|no&gt;] [(--enabled | -b) &lt;yes|no&gt;] [(--excludeattachments | -c) &lt;yes|no&gt;] [(--severe | -s) &lt;i|s|n&gt;] [(--warning | -w) &lt;i|s|n&gt;] [(--info | -i) &lt;i|s|n&gt;] [(--maxemaillength | -x) &lt;max. email length&gt;] [--summ1 &lt;hh:mm&gt;] [--summ2 &lt;hh:mm&gt;] &lt;profilename&gt;</strong></dt>
<dd><p>Adds a profile with the given configuration:</p></dd>
<dd><p>* SupportProfile is a reserved profile that is applicable to only some hardware models. It may not be added or deleted.</p></dd>
<dl>
<dt><strong>--html | -h</strong></dt>
<dd><p>Sends the emails in HTML format.</p></dd>
<dt><strong>-disclose | -d</strong></dt>
<dd><p>Discloses details in the emails (i.e. IP addresses).</p></dd>
<dt><strong>--encode | -e</strong></dt>
<dd><p>UUencodes diagnostic emails.</p></dd>
<dt><strong>--dailystatus | -a</strong></dt>
<dd><p>Sends a daily summary email.</p></dd>
<dt><strong>--emptyemails | -m</strong></dt>
<dd><p>Sends empty summary emails if there are no alerts to send.</p></dd>
<dt><strong>--ignorendmpevents | -n</strong></dt>
<dd><p>Ignores NDMP events in emails which are sent immediately.</p></dd>
<dt><strong>--enabled | -b</strong></dt>
<dd><p>Enables the profile.  (yes=enable, no=disable.)</p></dd>
<dt><strong>--excludeattachments | -c</strong></dt>
<dd><p>Excludes attachments in emails.</p></dd>
<dt><strong>--severe | -s</strong></dt>
<dd><p>Sets severe alert frequency:</p></dd>
<dl>
<dt><strong>i</strong></dt>
<dd><p>immediately</p></dd>
<dt><strong>s</strong></dt>
<dd><p>summary</p></dd>
<dt><strong>n</strong></dt>
<dd><p>never</p></dd>
</dl>
<dt><strong>--warning | -w</strong></dt>
<dd><p>Sets warning alert frequency:</p></dd>
<dl>
<dt><strong>i</strong></dt>
<dd><p>immediately</p></dd>
<dt><strong>s</strong></dt>
<dd><p>summary</p></dd>
<dt><strong>n</strong></dt>
<dd><p>never</p></dd>
</dl>
<dt><strong>--info | -i</strong></dt>
<dd><p>Sets information alert frequency:</p></dd>
<dl>
<dt><strong>i</strong></dt>
<dd><p>immediately</p></dd>
<dt><strong>s</strong></dt>
<dd><p>summary</p></dd>
<dt><strong>n</strong></dt>
<dd><p>never</p></dd>
</dl>
<dt><strong>--maxemaillength | -x</strong></dt>
<dd><p>Set the maximum possible email length in bytes.</p></dd>
<dt><strong>--summ1</strong></dt>
<dd><p>Sets the time the first summary email should be sent in 24 hour clock. The default is "None".</p></dd>
<dt><strong>--summ2</strong></dt>
<dd><p>Sets the time the second summary email should be sent in 24 hour clock. The default is "None".</p></dd>
</dl>
<dd><p>Any option not specified will be given a default value.</p></dd>
<dt><strong>delprofile &lt;profilename&gt;</strong></dt>
<dd><p>Deletes the specified profile.</p></dd>
<dd><p>* SupportProfile is a reserved profile that is applicable to only some hardware models. It may not be added or deleted.</p></dd>
<dt><strong>setprofile [(--html | -h) &lt;yes|no&gt;] [(--disclose | -d) &lt;yes|no&gt;] [(--encode | -e) &lt;yes|no&gt;] [(--dailystatus | -a) &lt;yes|no&gt;] [(--emptyemails | -m) &lt;yes|no&gt;] [(--ignorendmpevents | -n) &lt;yes|no&gt;] [(--enabled | -b) &lt;yes|no&gt;] [(--excludeattachments | -c) &lt;yes|no&gt;] [(--severe | -s) &lt;i|s|n&gt;] [(--warning | -w) &lt;i|s|n&gt;] [(--info | -i) &lt;i|s|n&gt;] [(--maxemaillength | -x) &lt;max. email length&gt;] [--summ1 &lt;hh:mm|None&gt;] [--summ2 &lt;hh:mm|None&gt;] &lt;profilename&gt;</strong></dt>
<dd><p>Alters the specified options of the given profile. Unspecified parameters remain unchanged. The options are the same as for addprofile.</p></dd>
<dd><p>Note: The email summary time --summ1 and --summ2 can be set to "None". e.g. alert-mail setprofile myProfile --summ1 None</p></dd>
</dl>
<dl>
<dt><strong>unset</strong></dt>

<p>Unset the SMTP address and SMTP 'from' email address.</p>

</dl>
<dl>
<dt><strong>reset</strong></dt>
<dd><p>Reset the SupportProfile to its default values. Note that SupportProfile is reserved and is applicable to only some hardware models.</p></dd>
</dl>
<h1>Examples</h1>
<pre>server:$ alert-mail set --smtpaddr email-server.example.com --smtpfrom admin@example.com
</pre>
<p></p>
<pre>server:$ alert-mail addprofile --severe s --warning s --disclose yes --dailystatus yes --emptyemails yes myProfile
Successfully added profile myProfile.
</pre>
<p></p>
<pre>server:$ alert-mail add --profile myProfile aRecipient@example.com
</pre>
<p></p>
<pre>server:$ alert-mail list
</pre>
<p></p>
<pre>SMTP server address:    email-server.example.com
SMTP from email address: admin@[192.168.43.190]
</pre>
<p></p>
<pre>              Profile Name:                myProfile
             Severe Alerts:                  Summary
            Warning Alerts:                  Summary
        Information Alerts:                    Never
             Summary Times:                     None
                          :                     None
                  Uuencode:                      Yes
          Disclose Details:                      Yes
         Send Empty Emails:                      Yes
  Send Daily Status Emails:                      Yes
               Html Format:                      Yes
        Ignore NDMP Events:                       No
       Exclude Attachments:                       No
         Max. Email Length:                    32 KB
                Recipients:   aRecipient@example.com
</pre>
<p></p>
<pre>server:$ alert-mail setprofile --summ1 08:30 myProfile
Successfully modified profile myProfile.
</pre>
<p></p>
<pre>server:$ alert-mail list
</pre>
<p></p>
<pre>SMTP server address:    email-server.example.com
SMTP from email address: admin@[192.168.43.190]
</pre>
<p></p>
<pre>              Profile Name:                myProfile
             Severe Alerts:                  Summary
            Warning Alerts:                  Summary
        Information Alerts:                    Never
             Summary Times:                    08:30
                          :                     None
                  Uuencode:                      Yes
          Disclose Details:                      Yes
         Send Empty Emails:                      Yes
  Send Daily Status Emails:                      Yes
               Html Format:                      Yes
        Ignore NDMP Events:                       No
       Exclude Attachments:                       No
         Max. Email Length:                    32 KB
                Recipients:   aRecipient@example.com
</pre>
<p></p>
<h1>See Also</h1>
<p><a href="../User/alert-snmp.html">alert-snmp</a> <a href="../User/alert-syslog.html">alert-syslog</a></p>
<h1>Privilege Level</h1>
<p>User</p>
<blockquote></blockquote>
<!--End footer-->
</body>
</html>
