<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>default-resiliency-level</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
  <style type="text/css">
  <!--
  @page { size: 8.27in 11.69in }
  H1  { font-family: "Verdana", sans-serif }
  H2  { font-family: "Verdana", sans-serif }
  H3  { font-family: "Verdana", sans-serif }
  H4  { font-family: "Verdana", sans-serif }
  P   { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  PRE { font-family: "Courier", monospace;  font-size: 12pt; margin-left: 40px; }
  DT  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  LI  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  -->
  </style>

</head>
<body style="background-color: white">
<!--Start header -->
<!-- html created: 2023-03-07 10:20:39 +0000 oemId: 1 -->
<h1>default-resiliency-level</h1>
<p>Sets the cluster-wide default resiliency level.</p>
<h1>Syntax</h1>
<pre>default-resiliency-level [--read|--write|--always-fail]  [--never-fail|--error-count &lt;num_errors&gt;]
</pre>

<h1>Description</h1>
<p>Changes the default resiliency level for all file systems.</p>
<p>File systems have configurable resiliency levels that determine the reaction to inconsistency errors. This feature is best-effort, there are some errors that will not be tolerated and will result in the file system being taken offline. All inconsistency errors will be logged regardless of a file system's resiliency level.</p>
<p>Unless a resiliency level is manually specified, a file system will use the default settings determined by this command.  When changing default resiliency levels, the changes are immediately propagated to all file systems which use the default settings.</p>
<h2>****WARNING****</h2>
<p>Tolerating read or write errors does not imply fixing of such errors. This feature is intended to allow heavily-read, mission critical file systems to remain online in the face of a few inconsistencies on disk.  Inconsistency errors should be addressed immediately by the system administrator.</p>
<p>Performance is degraded in read/write resiliency mode, see the --write option.</p>
<h2>Options</h2>
<dl>
<dt><strong>-r, --read</strong></dt>
<dd><p>Set the file system to read-resiliency.  Read actions which encounter inconsistencies will return an IO error. Must provide -e or -n option. May not be used with -a.</p></dd>
<dt><strong>-w, --write</strong></dt>
<dd><p>Set the file system to read/write-resiliency.  Performance will be degraded in this mode as all metadata is pre-read and verified before any modifying events are written to disk.  Actions which encounter inconsistencies will return an IO error. Must provide -e or -n option. May not be used with -a.</p></dd>
<dt><strong>-e, --error-count &lt;count&gt;</strong></dt>
<dd><p>Set the file system to tolerate &lt;count&gt; errors before taking the file system offline. Must provide -r or -w option. May not be used with -n, -a.</p></dd>
<dt><strong>-n, --never-fail</strong></dt>
<dd><p>Do not take the file system offline after a certain number of errors. Must provide -r or -w option. May not be used with -e, -a.</p></dd>
<dt><strong>-a, --always-fail</strong></dt>
<dd><p>Take the file system offline on the first error encountered. May not be used with -r, -w, -e, -n.</p></dd>
</dl>
<h1>Examples</h1>
<p>To display the default resiliency configuration:</p>
<pre>default-resiliency-level
</pre>
<p></p>
<p>To set the default resiliency level to tolerate 5 read errors:</p>
<pre>default-resiliency-level --read --error-count 5
</pre>
<p></p>
<p>To set the default resiliency level to tolerate 10 read/write errors:</p>
<pre>default-resiliency-level -w -e 10
</pre>
<p></p>
<p>To set the default resiliency level to endure all tolerable errors:</p>
<pre>default-resiliency-level -w -n
</pre>
<p></p>
<p>To set the default resiliency level to tolerate no errors:</p>
<pre>default-resiliency-level -a
</pre>
<p></p>
<h1>Applies To</h1>
<pre>    File system
</pre>
<p></p>
<h1>See Also</h1>
<p><a href="../Supervisor/checkfs.html">checkfs</a> <a href="../Dev/fixfs.html">fixfs</a> <a href="../Supervisor/fs-error-log.html">fs-error-log</a> <a href="../Supervisor/fs-resiliency-level.html">fs-resiliency-level</a></p>
<h1>Privilege Level</h1>
<p>Supervisor</p>
<blockquote></blockquote>
<!--End footer-->
</body>
</html>
