<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>test-route</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
  <style type="text/css">
  <!--
  @page { size: 8.27in 11.69in }
  H1  { font-family: "Verdana", sans-serif }
  H2  { font-family: "Verdana", sans-serif }
  H3  { font-family: "Verdana", sans-serif }
  H4  { font-family: "Verdana", sans-serif }
  P   { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  PRE { font-family: "Courier", monospace;  font-size: 12pt; margin-left: 40px; }
  DT  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  LI  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  -->
  </style>

</head>
<body style="background-color: white">
<!--Start header -->
<!-- html created: 2023-03-07 12:50:50 +0000 oemId: 1 -->
<h1>test-route</h1>
<p>tests the router</p>
<h1>Syntax</h1>
<pre>test-route [src[%&lt;interface&gt;]] dst[%&lt;interface&gt;]
</pre>

<h1>Description</h1>
<p>The test-route command provides access to the routing decision making process on the server. Along with the router-dump command, it can be used to help diagnose networking problems.</p>
<p>The test-route command takes one or two IP addresses.  If you supply two IP addresses, the first IP address is the source IP address that'll be used in the routing decision and the second IP address is the destination address.  If you supply a single IP address, test-route works out the route that'll be used to get to that IP address. An optional source interface name may also be supplied with the IP addresses by appending the name as 'ip-address%interface-name'. If an interface is specified for both the source and destination, then the two interface names must be the same.</p>
<p>The test-route command ignores any EVS that might be in context, though this can influence routing decisions in some application code. The test-route-by-evs command is supplied for probing such situations.</p>
<p>Like the router-dump command, the test-route command is board specific as different routing decisions are made on the different boards as the available interfaces are different.</p>
<h1>Examples</h1>
<p>To display how a packet would go to 10.1.1.83 from any IP address (ie the source IP address is free to be chosen):</p>
<pre>server:$ test-route 10.1.1.83
route from 10.1.26.65-&gt;10.1.1.83 via 10.1.1.83 i/f ag1
</pre>
<p></p>
<p>To display how a packet would go to 192.168.1.1 using a specific interface (ie the source IP address is chosen from those on the interface):</p>
<pre>server:$ test-route 192.168.1.1%ag1
route from 10.1.26.65-&gt;192.168.1.1 via 10.1.254.50 i/f ag1
</pre>
<p></p>
<p>To display how a packet would go to 10.10.26.1 from any IP address (ie the source IP address is free to be chosen):</p>
<pre>server:$ test-route 10.10.26.1
route from 10.10.26.64-&gt;10.10.26.1 via 10.10.26.1 i/f ag2
</pre>
<p></p>
<p>To display how a packet would go from 10.10.26.65 to 10.10.26.1:</p>
<pre>server:$ test-route 10.10.26.65 10.10.26.1
route from 10.10.26.65-&gt;10.10.26.1 via 10.10.26.1 i/f ag2
</pre>
<p></p>
<h1>Applies To</h1>
<p>Cluster node</p>
<h1>See Also</h1>
<p><a href="../Supervisor/router-dump.html">router-dump</a> <a href="../Topic/routing.html">routing</a> <a href="../Supervisor/test-route-by-evs.html">test-route-by-evs</a></p>
<h1>Privilege Level</h1>
<p>Supervisor</p>
<blockquote></blockquote>
<!--End footer-->
</body>
</html>
