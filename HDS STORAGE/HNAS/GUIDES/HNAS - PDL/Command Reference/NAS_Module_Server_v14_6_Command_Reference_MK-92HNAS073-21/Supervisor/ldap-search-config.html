<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>ldap-search-config</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
  <style type="text/css">
  <!--
  @page { size: 8.27in 11.69in }
  H1  { font-family: "Verdana", sans-serif }
  H2  { font-family: "Verdana", sans-serif }
  H3  { font-family: "Verdana", sans-serif }
  H4  { font-family: "Verdana", sans-serif }
  P   { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  PRE { font-family: "Courier", monospace;  font-size: 12pt; margin-left: 40px; }
  DT  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  LI  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  -->
  </style>

</head>
<body style="background-color: white">
<!--Start header -->
<!-- html created: 2023-03-07 12:50:50 +0000 oemId: 1 -->
<h1>ldap-search-config</h1>
<p>Display / update LDAP search configuration settings</p>
<h1>Syntax</h1>
<pre>ldap-search-config 
	ldap-search-config --search-scope | -s  one-level | sub-tree
	ldap-search-config --common | -c    &lt;common search base DN&gt;
	ldap-search-config --user | -u      &lt;user search base DNs&gt;
	ldap-search-config --group | -g     &lt;group search base DNs&gt;
	ldap-search-config --netgroup | -n  &lt;netgroup search base DNs&gt;
	ldap-search-config --host | -h      &lt;host search base DNs&gt;
</pre>

<h1>Description</h1>
<p>The ldap-search-config command is used to configure / examine the server's LDAP search settings for the current EVS' security context. You can use it to override the normal search bases for various database types, and to set the search scope.  Note that while search bases may be set individually, a single scope setting per EVS context governs all LDAP searches in that context.</p>
<p>By default the server uses a single search base for all data types. It is derived from the current EVS security context's domainname setting using RFC 2247 mapping.  For example a domainname value of "fruits.example.com" maps to the base "dc=fruits,dc=example,dc=com". The server uses a default search scope of "sub-tree" so that it will find any entries matching a given query's criteria, anywhere in the LDAP DIT.</p>
<p>This command permits you to replace the default with a different common search base, and/or to specify individual search bases for each of user, group and hosts lookup types.  You may also use this command to specify a single search scope (one-level or sub-tree) which is used for all lookup types.</p>
<p>When setting any search base except for common, up to three DNs may be specified.  When listing multiple DNs, each DN should be enclosed in parentheses, and the whole list of DNs must be in quotes.  See the examples below for further detail.  For the common search base, only a single DN may be given.</p>
<p>When multiple DNs are set for a single search base, for each simple lookup they are tried in the order given.  For a bulk import (user- / group-mappings-import-from-nis) only the first DN which contains importable entries (per the current search scope) is used.</p>
<p>When a lookup type-specific (e.g., user, group, etc.) search base is given, only that base's DNs are considered when performing a lookup of that record type.  The common search base is only used with lookups whose record type does not have a specific base configured.  Similarly, when an explicit common search base is given, the default RFC 2247 search base is not considered.</p>
<p>This command is intended to provide functionality similar to that offered in Solaris naming profiles, as produced by the Solaris utility ldap_gen_profile.  In particular, settings equivalent to the SolarisDataSearchDN, SolarisSearchBaseDN and SolarisSearchScope attributes are provided. Note however that the server does not read actual Solaris naming profiles; instead the ldap-search-config command must be used.</p>
<p>Changes made with this command apply only to the current EVS' security context, and take effect immediately.</p>
<h1>Examples</h1>
<p>Display the current LDAP search configuration:</p>
<pre>ldap-search-config
</pre>
<p></p>
<p>Set the LDAP search scope to one-level (meaning only entries immediately below the applicable search base will be considered when searching):</p>
<pre>ldap-search-config --search-scope one-level
</pre>
<p></p>
<p>Set the LDAP search scope to sub-tree (the initial default, meaning all entries below the applicable search base will be considered when searching):</p>
<pre>ldap-search-config --search-scope sub-tree
</pre>
<p></p>
<p>Set a common search base, used for all search types when no type-specific search base is set:</p>
<pre>ldap-search-config --common "ou=apples,dc=fruits,dc=example,dc=com"
</pre>
<p></p>
<p>Remove the common search base override:</p>
<pre>ldap-search-config --common ""
</pre>
<p></p>
<p>Specify a set of search bases for user lookups (uid -&gt; uidNumber, uidNumber -&gt; uid):</p>
<pre>ldap-search-config --user "(ou=most users,dc=fruits,dc=example,dc=com),(ou=some users,dc=fruits,dc=example,dc=com)"
</pre>
<p></p>
<p>Clear user-specific search bases, so common default is used for user lookups:</p>
<pre>ldap-search-config --user ""
</pre>
<p></p>
<p>Set a single DN as a group search base:</p>
<pre>ldap-search-config --group "ou=Groups,dc=fruits,dc=example,dc=com"
</pre>
<p></p>
<p>Set a single DN as a netgroup search base:</p>
<pre>ldap-search-config --netgroup "ou=Netgroups,dc=fruits,dc=example,dc=com"
</pre>
<p></p>
<h1>Applies To</h1>
<p>EVS security context</p>
<h1>See Also</h1>
<p><a href="../User/domainname.html">domainname</a> <a href="../User/evs-security.html">evs-security</a> <a href="../Supervisor/group-mappings-import-from-nis.html">group-mappings-import-from-nis</a> <a href="../Topic/ldap.html">ldap</a> <a href="../Supervisor/ldap-schema.html">ldap-schema</a> <a href="../Supervisor/user-mappings-import-from-nis.html">user-mappings-import-from-nis</a></p>
<h1>Privilege Level</h1>
<p>Supervisor</p>
<blockquote></blockquote>
<!--End footer-->
</body>
</html>
