<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>ipaddr</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
  <style type="text/css">
  <!--
  @page { size: 8.27in 11.69in }
  H1  { font-family: "Verdana", sans-serif }
  H2  { font-family: "Verdana", sans-serif }
  H3  { font-family: "Verdana", sans-serif }
  H4  { font-family: "Verdana", sans-serif }
  P   { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  PRE { font-family: "Courier", monospace;  font-size: 12pt; margin-left: 40px; }
  DT  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  LI  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  -->
  </style>

</head>
<body style="background-color: white">
<!--Start header -->
<!-- html created: 2023-03-07 12:50:50 +0000 oemId: 1 -->
<h1>ipaddr</h1>
<p>Cluster node IP address management</p>
<h1>Syntax</h1>
<pre>ipaddr [-s | --show-internal-addresses] [-r] [-p &lt;port&gt;] [-i &lt;addr&gt; -m &lt;mask&gt;] [-c | --confirm]
</pre>

<h1>Description</h1>
<p>The ipaddr command lists and manages a cluster node's physical IP addresses.</p>
<p>In addition to cluster node IP addresses, the command also displays unified management IP addresses.</p>
<p>Options:</p>
<dl>
<dt><strong>-i, --ip &lt;addr&gt;</strong></dt>
<dd><p>Use this option to add or update the cluster node IP address.</p></dd>
<dd><p>A cluster node IP address may only be added to an eth-ag port.</p></dd>
<dt><strong>-m, --mask &lt;mask&gt;</strong></dt>
<dd><p>Use this option to specify a netmask to be added or updated.</p></dd>
<dd><p>A netmask may only be added or modified on an eth-ag port.</p></dd>
<dt><strong>-p, --port &lt;port&gt;</strong></dt>
<dd><p>When configuring an additional cluster node IP address, use this option to explicitly specify a different port name. This IP address will not be used for inter-node cluster communication. It will be node specific and will not migrate to a different node in case of node failure.</p></dd>
<dd><p>The port name must belong to an eth-ag port.</p></dd>
<dt><strong>-r, --remove</strong></dt>
<dd><p>Use this option to remove the cluster node IP configuration.</p></dd>
<dd><p>An address may only be removed from an eth-ag port.</p></dd>
<dt><strong>-c, --confirm</strong></dt>
<dd><p>Use this option to confirm an update to, or removal of, the existing cluster node IP address.</p></dd>
<dt><strong>-s, --show-internal-addresses</strong></dt>
<dd><p>Use this option to display cluster node IP addresses configured on the internal and maintenance networks. Note that these addresses cannot be manually changed; they are displayed for information purposes only.</p></dd>
</dl>
<h1>Examples</h1>
<p>To display current cluster node IP configuration, run the command without any arguments.</p>
<p>The list includes unified management IP addresses. For more information, see "man unified-management-ip-address".</p>
<pre>server:$ ipaddr
    Cluster node ID = 1
    ##        IP Address     Mask / Prefix Length        Port
    --     -------------     --------------------     -------
     1      172.27.31.71            255.255.192.0        CTL1
     2      172.27.31.74            255.255.192.0     eth-ag1
</pre>
<p></p>
<pre>    Cluster node ID = 2
    ##        IP Address     Mask / Prefix Length        Port
    --     -------------     --------------------     -------
     1      172.27.31.78            255.255.192.0        CTL2
     2      172.27.31.81            255.255.192.0     eth-ag1
</pre>
<p></p>
<p>To include the internal IP addresses:</p>
<pre>server:$ ipaddr --show-internal-addresses
    Cluster node ID = 1
    ##        IP Address     Mask / Prefix Length        Port
    --     -------------     --------------------     -------
     1      172.27.31.71            255.255.192.0        CTL1
     2      172.27.31.74            255.255.192.0     eth-ag1
     3      172.27.31.84            255.255.192.0        eth0
     4      192.168.48.1              255.255.0.0        eth1
</pre>
<p></p>
<pre>    Cluster node ID = 2
    ##        IP Address     Mask / Prefix Length        Port
    --     -------------     --------------------     -------
     1      172.27.31.78            255.255.192.0        CTL2
     2      172.27.31.81            255.255.192.0     eth-ag1
     3      172.27.31.85            255.255.192.0        eth0
     4      192.168.52.1              255.255.0.0        eth1
</pre>
<p></p>
<p>To configure an additional cluster node IP address on eth-ag1:</p>
<pre>server:$ ipaddr -p eth-ag1 -i 192.168.1.2 -m 255.255.255.0
</pre>
<p></p>
<h1>Applies To</h1>
<p>Cluster node</p>
<h1>See Also</h1>
<p><a href="../User/cluster-show.html">cluster-show</a> <a href="../User/evs.html">evs</a> <a href="../Supervisor/evsipaddr.html">evsipaddr</a> <a href="../Topic/unified-management-ip-address.html">unified-management-ip-address</a></p>
<h1>Privilege Level</h1>
<p>Supervisor</p>
<blockquote></blockquote>
<!--End footer-->
</body>
</html>
