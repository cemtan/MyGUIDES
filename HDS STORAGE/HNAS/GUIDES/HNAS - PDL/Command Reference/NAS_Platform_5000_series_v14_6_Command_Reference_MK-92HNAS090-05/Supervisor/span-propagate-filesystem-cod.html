<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>span-propagate-filesystem-cod</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
  <style type="text/css">
  <!--
  @page { size: 8.27in 11.69in }
  H1  { font-family: "Verdana", sans-serif }
  H2  { font-family: "Verdana", sans-serif }
  H3  { font-family: "Verdana", sans-serif }
  H4  { font-family: "Verdana", sans-serif }
  P   { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  PRE { font-family: "Courier", monospace;  font-size: 12pt; margin-left: 40px; }
  DT  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  LI  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  -->
  </style>

</head>
<body style="background-color: white">
<!--Start header -->
<!-- html created: 2023-03-07 10:21:49 +0000 oemId: 1 -->
<h1>span-propagate-filesystem-cod</h1>
<p>Copy the filesystem Cod from an SD to all others in the same span</p>
<h1>Syntax</h1>
<pre>span-propagate-filesystem-cod [--danger-ignore-sd-sites] [--danger-ignore-cluster-uuid] &lt;sd-device-id&gt;
</pre>

<h1>Description</h1>
<p>This command treats one system drive's (SD's) copy of the filesystem Cod as authoritative and copies it on to all the other SDs in the same span.  This makes the Cod consistent, but forces you to make a decision about which version of the Cod to use.</p>
<p>Consider using this command if the filesystem Cod on a span has become inconsistent (i.e. it differs between SDs), and either filesystems or chunks won't load.  You can also use it if an SD's filesystem Cod has become physically unreadable: writing a fresh copy of the Cod to the failing SD should make the storage spare the bad blocks and allocate new ones, making the Cod readable again.</p>
<p>The 'cod' man page explains Cod, how it's loaded, and the need for consistency.</p>
<p>If the span is called S, it's normal to run 'span-list-filesystem-cod S' before and after running this command and then 'sd-rescan-cod S' to load the filesystem Cod into memory.</p>
<p>An equally valid alternative strategy, when you're faced with unloadable filesystem Cod, is to run 'span-load-filesystem-cod' and then 'span-rewrite-cod'.  It has the advantage that you don't have to overwrite any Cod until you're satisfied with the results.</p>
<h2>Switches</h2>
<p>The following switches enable the command to run when it would normally fail.  Think three times before using any of these switches: it is almost always better to fix the condition that's causing the command to fail than to use an override.</p>
<dl>
<dt><strong>--danger-ignore-sd-sites</strong></dt>
<dd><p>Runs even if the primary SDs in the span aren't all at the same site.</p></dd>
<dt><strong>--danger-ignore-cluster-uuid</strong></dt>
<dd><p>Runs even if the span is not assigned to this cluster.</p></dd>
</dl>
<h1>Examples</h1>
<pre>span-propagate-filesystem-cod 17
</pre>
<p></p>
<p>Copies the filesystem catalog and chunk table from SD 17 to all other SDs in the same span as SD 17.</p>
<h1>Applies To</h1>
<p>Cluster wide</p>
<h1>See Also</h1>
<p><a href="../Topic/cod.html">cod</a> <a href="../User/filesystem-list.html">filesystem-list</a> <a href="../Supervisor/sd-rescan-cod.html">sd-rescan-cod</a> <a href="../Topic/site.html">site</a> <a href="../Supervisor/span-assign-to-cluster.html">span-assign-to-cluster</a> <a href="../User/span-list.html">span-list</a> <a href="../Supervisor/span-list-filesystem-cod.html">span-list-filesystem-cod</a> <a href="../Supervisor/span-load-filesystem-cod.html">span-load-filesystem-cod</a></p>
<h1>Privilege Level</h1>
<p>Supervisor</p>
<blockquote></blockquote>
<!--End footer-->
</body>
</html>
