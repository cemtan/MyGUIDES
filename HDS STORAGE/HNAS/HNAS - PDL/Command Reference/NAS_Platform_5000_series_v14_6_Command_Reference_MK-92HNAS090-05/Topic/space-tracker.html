<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>space-tracker</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
  <style type="text/css">
  <!--
  @page { size: 8.27in 11.69in }
  H1  { font-family: "Verdana", sans-serif }
  H2  { font-family: "Verdana", sans-serif }
  H3  { font-family: "Verdana", sans-serif }
  H4  { font-family: "Verdana", sans-serif }
  P   { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  PRE { font-family: "Courier", monospace;  font-size: 12pt; margin-left: 40px; }
  DT  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  LI  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  -->
  </style>

</head>
<body style="background-color: white">
<!--Start header -->
<!-- html created: 2023-03-07 10:21:49 +0000 oemId: 1 -->
<h1>space-tracker</h1>

<h1>Description</h1>
<p>This dev-level command dumps the amount of space usage and the number of files consumed by individual users and groups in the file system and in virtual volumes.</p>
<h2>Option</h2>
<dl>
<dt><strong>-v|--volume-number &lt;volume number&gt;</strong></dt>
<dd><p>Specifies the volume number of the file system. If omitted, the current selected file system is used.</p></dd>
<dd><p>The volume number can be determined by the 'df -i' command.</p></dd>
</dl>
<h1>Examples</h1>
<p>To show the space trackers of file system named 'fs':</p>
<p>a) Find out volume number of 'fs'</p>
<pre>   $ df -i
</pre>
<p></p>
<pre>     ID  VolNo    Label    Size            Used  Snapshots  Reduction           Avail  Thin               FS Type
   ----  -----  -------  ------  --------------  ---------  ---------  --------------  ----  --------------------
   1026      2  Span0FS   18 GB     Not mounted   0 B (0%)         NA   15.6 GB (87%)    No  32 KB,WFS-2,128 DSBs
   1028      4       fs   18 GB  5.096 GB (28%)   0 B (0%)         NA   12.9 GB (72%)    No   4 KB,WFS-2,128 DSBs
   1029      5     test  108 GB     Not mounted   0 B (0%)         NA  105.6 GB (98%)    No   4 KB,WFS-2,128 DSBs
</pre>
<p></p>
<p>b) Dump the trackers</p>
<pre>   $ space-tracker --volume-number 4
   signature      : Qtrk
   record id      : 1024
   tag            : 0
   sid            : Null (S-1-0)
   type           : ViVolQuota
   usage          : 2.89 GB (3103260672 B)
   nfiles         : 8
   constraint     : 0x0000000000000000
</pre>
<p></p>
<pre>   signature      : Qtrk
   record id      : 2569
   tag            : 0
   sid            : Unix user\0 (S-1-77-0-0)
   type           : UserQuota
   usage          : 4 KB (4096 B)
   nfiles         : 4
   constraint     : 0x00007F6576570000
</pre>
<p></p>
<pre>   signature      : Qtrk
   record id      : 8749
   tag            : 0
   sid            : Unix user\1236 (S-1-77-0-1236)
   type           : UserQuota
   usage          : 2.887 GB (3099766784 B)
   nfiles         : 2
   constraint     : 0x0000000000000000
</pre>
<p></p>
<pre>   signature      : Qtrk
   record id      : 4114
   tag            : 0
   sid            : Unix group\0 (S-1-77-1-0)
   type           : GroupQuota
   usage          : 4 KB (4096 B)
   nfiles         : 4
   constraint     : 0x0000000000000000
</pre>
<p></p>
<pre>   signature      : Qtrk
   record id      : 10294
   tag            : 0
   sid            : Unix group\504 (S-1-77-1-504)
   type           : GroupQuota
   usage          : 2.887 GB (3099766784 B)
   nfiles         : 2
   constraint     : 0x0000000000000000
</pre>
<p></p>
<pre>   signature      : Qtrk
   record id      : 5659
   tag            : 0
   sid            : SHIRE\root (S-1-5-21-2000478354-1708537768-1420437363-154717)
   type           : UserQuota
   usage          : 3.328 MB (3489792 B)
   nfiles         : 2
   constraint     : 0x00007F6576570000
</pre>
<p></p>
<pre>   signature      : Qtrk
   record id      : 7204
   tag            : 0
   sid            : SHIRE\root (S-1-5-21-2000478354-1708537768-1420437363-154717)
   type           : GroupQuota
   usage          : 3.328 MB (3489792 B)
   nfiles         : 2
   constraint     : 0x0000000000000000
</pre>
<p></p>
<p>Note the output also contains internal bookkeeping information for developer's use. The space trackers file is binary, which begins with a header followed by space tracking records of fixed size. Each record begins with a 'Qtrk' signature. The record id is the offset of the record from the start of the file. The tag field is the virtual volume tag. If zero, the constraints are for the entire file system. The constraint field, if nonzero, is the memory address of an internal constraint data structure.</p>
<h1>Applies To</h1>
<p>EVS</p>
<h1>See Also</h1>
<p><a href="../Topic/check-space-trackers.html">check-space-trackers</a> <a href="../Topic/kill-quotas.html">kill-quotas</a> <a href="../User/quota.html">quota</a> <a href="../Topic/space-constraint.html">space-constraint</a> <a href="../Dev/space-tracker.html">space-tracker</a></p>
<h1>Privilege Level</h1>
<p>Topic</p>
<blockquote></blockquote>
<!--End footer-->
</body>
</html>
