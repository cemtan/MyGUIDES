<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>cifs-saa</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
  <style type="text/css">
  <!--
  @page { size: 8.27in 11.69in }
  H1  { font-family: "Verdana", sans-serif }
  H2  { font-family: "Verdana", sans-serif }
  H3  { font-family: "Verdana", sans-serif }
  H4  { font-family: "Verdana", sans-serif }
  P   { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  PRE { font-family: "Courier", monospace;  font-size: 12pt; margin-left: 40px; }
  DT  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  LI  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  -->
  </style>

</head>
<body style="background-color: white">
<!--Start header -->
<!-- html created: 2023-03-07 10:21:49 +0000 oemId: 1 -->
<h1>cifs-saa</h1>
<p>Manages Share Access Authentication in real file systems, cluster or EVS namespaces</p>
<h1>Syntax</h1>
<pre>cifs-saa 
max [-n (&lt;newvalue&gt;|unlimited)] [--target-label &lt;namespace|file-system&gt;] &lt;share&gt;
list [-n &lt;max-entries&gt;] [--target-label &lt;namespace|file-system&gt;] &lt;share&gt;
listall [-n &lt;max-shares&gt;]
add [--target-label &lt;namespace|file-system&gt;] &lt;share&gt; &lt;user/group&gt; &lt;permission&gt;
change [--target-label &lt;namespace|file-system&gt;] &lt;share&gt; &lt;user/group&gt; &lt;permission&gt;
delete [--target-label &lt;namespace|file-system&gt;] &lt;share&gt; &lt;user/group&gt;
Alias:       cns-cifs-saa
</pre>

<h1>Description</h1>
<p>The cifs-saa command manages Share Access Authentication (SAA) for CIFS shares on normal file systems or cluster/EVS namespaces. SAA is used to restrict access rights for users accessing shares over CIFS. SAA is also used to limit the number of users that can connect to a share.</p>
<p>SAA uses four permissions to set access rights for a share - Read (r), Change (c), Change&amp;Read (cr) and Full Control (f). Each of these permissions can be either allowed (a) or denied (d). To allow read access to a user or group, combine a (allow) with r (read), to give 'ar'. To deny full control, combine d (deny) with f (full control) to give 'df'.</p>
<p>Each CIFS share maintains a list of users and a set of access rights for each. A share's permissions may appear as:</p>
<pre>Type Permission          User/Group
U    Allow Full Control  EXAMPLE\Administrator
G    Allow Read          EXAMPLE\Finance
W    Deny  Full Control  Everyone
</pre>
<p></p>
<p>Given these SAA entries, the access rights for user 'EXAMPLE\Administrator' won't be restricted by the share. Users belonging to the 'EXAMPLE\Finance' group will only be allowed to read files and directories below the share. All other users will be denied access altogether.</p>
<p>The Type field describes the type of the object to which the permissions apply. Type can be one of:</p>
<dl>
<dt><strong>A</strong></dt>
<dd><p>Alias</p></dd>
<dt><strong>C</strong></dt>
<dd><p>Computer</p></dd>
<dt><strong>D</strong></dt>
<dd><p>Domain</p></dd>
<dt><strong>G</strong></dt>
<dd><p>Group</p></dd>
<dt><strong>I</strong></dt>
<dd><p>Invalid</p></dd>
<dt><strong>U</strong></dt>
<dd><p>User</p></dd>
<dt><strong>W</strong></dt>
<dd><p>Well-known group</p></dd>
<dt><strong>X</strong></dt>
<dd><p>Deleted account</p></dd>
<dt><strong>?</strong></dt>
<dd><p>Unknown</p></dd>
</dl>
<p>Note that if a user/group doesn't appear in the list of SAA entries, access will be implicitly denied for that user/group. Also note that new CIFS shares are given a default SAA entry that allows Full Control to Everyone.</p>
<p>Usage:</p>
<dl>
<dt><strong>cifs-saa max [OPTION]... &lt;sharename&gt;</strong></dt>
<dd><p>Shows or sets the current maximum number of users that are allowed to connect to this share concurrently. Options are:</p></dd>
<dl>
<dt><strong>-n, --newvalue (&lt;newvalue&gt;|unlimited)</strong></dt>
<dd><p>The maximum user count for the specified share.</p></dd>
<dt><strong>--target-label &lt;namespace|file-system&gt;</strong></dt>
<dd><p>Name of the file system or the cluster/EVS namespace in which to look for the share name. If this option is not provided we try to locate the share on both the namespace and the file systems that are visible in the context of the current EVS.</p></dd>
</dl>
<dt><strong>cifs-saa list [OPTION]... &lt;sharename&gt;</strong></dt>
<dd><p>Lists the SAA entries that are currently configured for the given share. Options are:</p></dd>
<dl>
<dt><strong>-n, --max &lt;max-entries&gt;</strong></dt>
<dd><p>Lists at most max-entries SAA entries for the given share.</p></dd>
<dt><strong>--target-label &lt;namespace|file-system&gt;</strong></dt>
<dd><p>Name of the file system or the cluster/EVS namespace in which to look for the share name. If this option is not provided we try to locate the share on both the namespace and the file systems that are visible in the context of the current EVS.</p></dd>
</dl>
<dt><strong>cifs-saa listall [OPTION]...</strong></dt>
<dd><p>Lists the SAA entries that are currently configured for all shares (both namespace and file system shares that are visible in the context of the current EVS). Options are:</p></dd>
<dl>
<dt><strong>-n, --max &lt;max-shares&gt;</strong></dt>
<dd><p>Lists SAA entries against at most max-shares shares.</p></dd>
</dl>
<dt><strong>cifs-saa add [OPTION]... &lt;sharename&gt; &lt;user/group&gt; &lt;permission&gt;</strong></dt>
<dd><p>Adds an SAA entry to a share. Options are:</p></dd>
<dl>
<dt><strong>--target-label &lt;namespace|file-system&gt;</strong></dt>
<dd><p>Name of the file system or the cluster/EVS namespace in which to look for the share name.</p></dd>
<dt><strong>&lt;permission&gt;</strong></dt>
<dd><p>ax = allow x, dx = deny x, where x is: r, c, cr or f.</p></dd>
<dd><p>NOTE: Use of c (Change) instead of cr (Change&amp;Read) may result in the security setting being invisible to some remote administration tools.</p></dd>
</dl>
<dt><strong>cifs-saa change [OPTION]... &lt;sharename&gt; &lt;user/group&gt; &lt;permission&gt;</strong></dt>
<dd><p>Changes an SAA entry belonging to a share. Options are:</p></dd>
<dl>
<dt><strong>--target-label &lt;namespace|file-system&gt;</strong></dt>
<dd><p>Name of the file system or the cluster/EVS namespace in which to look for the share name. If this option is not provided we try to locate the share on both the namespace and the file systems that are visible in the context of the current EVS.</p></dd>
</dl>
<dt><strong>cifs-saa [OPTION]... delete &lt;sharename&gt; &lt;user/group&gt;</strong></dt>
<dd><p>Removes an SAA entry from a share. Options are:</p></dd>
<dl>
<dt><strong>--target-label &lt;namespace|file-system&gt;</strong></dt>
<dd><p>Name of the file system or the cluster/EVS namespace in which to look for the share name. If this option is not provided we try to locate the share on both the namespace and the file systems that are visible in the context of the current EVS.</p></dd>
</dl>
</dl>
<h1>Examples</h1>
<p>To allow Change&amp;Read rights to members of the 'EXAMPLE\Finance' group when accessing myshare:</p>
<pre>cifs-saa add myshare EXAMPLE\Finance acr
</pre>
<p></p>
<p>To allow Full Control rights to a machine account of the computer 'HOST1' when accessing myshare:</p>
<pre>cifs-saa add myshare EXAMPLE\HOST1$ af
</pre>
<p></p>
<h1>Applies To</h1>
<p>Cluster wide</p>
<h1>See Also</h1>
<p><a href="../User/cifs-share.html">cifs-share</a></p>
<h1>Privilege Level</h1>
<p>User</p>
<blockquote></blockquote>
<!--End footer-->
</body>
</html>
