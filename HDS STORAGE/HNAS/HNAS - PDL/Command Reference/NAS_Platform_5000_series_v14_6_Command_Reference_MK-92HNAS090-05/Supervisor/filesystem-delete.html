<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>filesystem-delete</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
  <style type="text/css">
  <!--
  @page { size: 8.27in 11.69in }
  H1  { font-family: "Verdana", sans-serif }
  H2  { font-family: "Verdana", sans-serif }
  H3  { font-family: "Verdana", sans-serif }
  H4  { font-family: "Verdana", sans-serif }
  P   { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  PRE { font-family: "Courier", monospace;  font-size: 12pt; margin-left: 40px; }
  DT  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  LI  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  -->
  </style>

</head>
<body style="background-color: white">
<!--Start header -->
<!-- html created: 2023-03-07 10:21:49 +0000 oemId: 1 -->
<h1>filesystem-delete</h1>
<p>Delete a filesystem and all its data, leaving its host span in place</p>
<h1>Syntax</h1>
<pre>filesystem-delete [--override-pdm] [--no-undeletion-information] &lt;filesystem1/filesystem2/filesystem3...&gt;
</pre>

<h1>Description</h1>
<p>Deletes one or more filesystems.  All data on the file systems becomes unavailable.  The file system's NV data (if any) and EVS binding (if any) are removed.</p>
<p>The filesystems are moved to the span's recycle bin, where they stay for a period of anywhere between a few seconds and several days, depending on how much pressure is on the span's free space.  As long as it stays in the recycle bin, a deleted filesystem can be retrieved by 'filesystem-undelete'.  An event will be logged when the filesystem is recycled (i.e. permanently deleted).</p>
<p>A file system must be unmounted before it can be deleted.</p>
<p>'filesystem-delete' will refuse to run if the span has failed.  For a way to delete a failed span and all its filesystems, see the 'span-delete' man page.</p>
<p>If you delete a file system that is currently participating in a data migration path, unexpected loss of data for the other file system may occur.  If the file system to be deleted is currently unmounted (as required), then any paths that have been established can only be detected if the corresponding file systems(s) are mounted.  The command tries to detect any data migration dependencies from currently mounted filesystems; if a dependency is found, a warning will be displayed and the command will fail.</p>
<h2>FAILURE CONDITIONS</h2>
<p>The command will also detect any virtualization paths for the file system; if any are found, a warning will be printed and the command will fail. To override these checks and delete any virtualization paths on the file system, supply the '--override-pdm' switch.</p>
<p>If 'filesystem-delete' reports that there is too little Cod space to delete a filesystem, consider using the --no-undeletion-information switch to avoid saving undeletion information in Cod.  This switch will usually enable the command to succeed, but will make it impossible to retrieve the filesystem with 'filesystem-undelete'.</p>
<h2>IF THE SPAN AND ITS OTHER FILE SYSTEMS ARE FULL</h2>
<p>Consider a span whose filesystems are full and need to auto-expand, but are prevented from doing so because the span is full.  If you delete filesystem F, other filesystems will auto-expand into the space that filesystem F used to occupy, and filesystem F will immediately be recycled.  This will make it impossible to retrieve filesystem F using any method, including 'filesystem-undelete'.  It is therefore wise to confine a span if it and its filesystems are very full.</p>
<h1>Examples</h1>
<pre>filesystem-delete ProjectX
filesystem-delete Alpha Bravo Charlie
</pre>
<p></p>
<h1>Applies To</h1>
<p>Cluster wide</p>
<h1>See Also</h1>
<p><a href="../Topic/cod.html">cod</a> <a href="../Supervisor/filesystem-create.html">filesystem-create</a> <a href="../User/filesystem-list.html">filesystem-list</a> <a href="../Supervisor/filesystem-undelete.html">filesystem-undelete</a> <a href="../Supervisor/span-confine.html">span-confine</a> <a href="../Supervisor/span-delete.html">span-delete</a> <a href="../Supervisor/unmount.html">unmount</a></p>
<h1>Privilege Level</h1>
<p>Supervisor</p>
<blockquote></blockquote>
<!--End footer-->
</body>
</html>
