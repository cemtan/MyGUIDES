<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>network-protocol-performance-monitor-logsize</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
  <style type="text/css">
  <!--
  @page { size: 8.27in 11.69in }
  H1  { font-family: "Verdana", sans-serif }
  H2  { font-family: "Verdana", sans-serif }
  H3  { font-family: "Verdana", sans-serif }
  H4  { font-family: "Verdana", sans-serif }
  P   { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  PRE { font-family: "Courier", monospace;  font-size: 12pt; margin-left: 40px; }
  DT  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  LI  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  -->
  </style>

</head>
<body style="background-color: white">
<!--Start header -->
<!-- html created: 2023-03-07 10:21:49 +0000 oemId: 1 -->
<h1>network-protocol-performance-monitor-logsize</h1>
<p>Set or report configured buffer sizes for network protocol performance monitor statistics for file systems.</p>
<h1>Syntax</h1>
<pre>network-protocol-performance-monitor-logsize --hours &lt;num&gt; --file-system &lt;file system&gt;
</pre>

<h1>Description</h1>
<p>This command configures the time period over which per file system performance statistics are gathered. These statistics are intended for use by support staff to diagnose some customer performance problems. Every ten seconds, some values are stored in memory to record how monitored protocols are being handled.</p>
<p>Configuring this feature is not usually necessary.  Only use under instruction from your support provider.</p>
<p>Options:</p>
<dl>
<dt><strong>-f, --file-system &lt;file system&gt;</strong></dt>
<dd><p>File system to be configured for performance logging.</p></dd>
<dt><strong>-h, --hours &lt;number&gt;</strong></dt>
<dd><p>Number of hours worth of performance logging to be kept for the named filesystem. Setting the logging to zero hours removes the setting from that filesystem.</p></dd>
</dl>
<p>A rolling buffer is set up for each file system to store the performance statistics.  Samples are taken every 10 seconds ready for displaying using the network-protocol-performance-monitor-report command. The buffer will grow until the maximum number of samples is reached, at which point the oldest sample will be discarded as each new sample comes in for that file system.</p>
<p>There is a total number of hours worth of statistics that can be stored, currently 1000, and that amount can be allocated to file systems in any split required (including just allocating the lot to one file system) as long as the total isn't exceeded.</p>
<p>Usual operation is that the capacity for storing logs is automatically spread evenly across all mounted filesystems. If for some reason that is not the best use, then the configuration can be changed with this command by setting a given filesystem to have a specific number of hours of logging associated with it. This allows either increased logging on a file system by using a high value or releasing capacity by setting to a low value.</p>
<p>If statistics are re-configured on an already mounted file system, then when possible the buffer will try to grow or shrink whilst keeping as much of the logged data as it can.</p>
<p>To remove a logging override for a file system, set the required buffer size to zero.</p>
<h1>Examples</h1>
<p>Set an override for file system ExampleFS1, storing up to 24 hours.</p>
<pre>    network-protocol-performance-monitor-logsize -f ExampleFS1 -h 24
</pre>
<p></p>
<p>Remove an override on file system ExampleFS1.</p>
<pre>    network-protocol-performance-monitor-logsize -f ExampleFS1 -h 0
</pre>
<p></p>
<p>Reduce logging for file system ExampleFS1 to minimum, to free space for others.</p>
<pre>    network-protocol-performance-monitor-logsize -f ExampleFS1 -h 1
</pre>
<p></p>
<p>Show current configuration for all file systems:</p>
<pre>    network-protocol-performance-monitor-logsize
</pre>
<p></p>
<h1>Applies To</h1>
<p>Cluster node</p>
<h1>See Also</h1>
<p><a href="../Supervisor/network-protocol-performance-monitor-auto-log-disable.html">network-protocol-performance-monitor-auto-log-disable</a> <a href="../Supervisor/network-protocol-performance-monitor-auto-log-enable.html">network-protocol-performance-monitor-auto-log-enable</a> <a href="../Supervisor/network-protocol-performance-monitor-clear.html">network-protocol-performance-monitor-clear</a> <a href="../Supervisor/network-protocol-performance-monitor-report.html">network-protocol-performance-monitor-report</a> <a href="../Supervisor/network-protocol-performance-monitor-set-defaults.html">network-protocol-performance-monitor-set-defaults</a></p>
<h1>Privilege Level</h1>
<p>Supervisor</p>
<blockquote></blockquote>
<!--End footer-->
</body>
</html>
