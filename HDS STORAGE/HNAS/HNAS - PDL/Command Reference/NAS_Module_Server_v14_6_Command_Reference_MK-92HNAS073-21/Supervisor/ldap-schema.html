<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>ldap-schema</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
  <style type="text/css">
  <!--
  @page { size: 8.27in 11.69in }
  H1  { font-family: "Verdana", sans-serif }
  H2  { font-family: "Verdana", sans-serif }
  H3  { font-family: "Verdana", sans-serif }
  H4  { font-family: "Verdana", sans-serif }
  P   { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  PRE { font-family: "Courier", monospace;  font-size: 12pt; margin-left: 40px; }
  DT  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  LI  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  -->
  </style>

</head>
<body style="background-color: white">
<!--Start header -->
<!-- html created: 2023-03-07 12:50:50 +0000 oemId: 1 -->
<h1>ldap-schema</h1>
<p>Displays or changes LDAP client schema support.</p>
<h1>Syntax</h1>
<pre>ldap-schema [ -v | setting ]
where
  -v  selects verbose display of current schema setting
setting is one of:
  -s rfc2307 | sfu | imu | ad
  -a gid|gidNumber|uid|uidNumber=attribName
  -c user|group=className
</pre>

<h1>Description</h1>
<p>The ldap-schema command is used to examine or configure the LDAP client settings for NIS schema selection.  These settings affect certain attribute and object class names used during LDAP NIS queries.</p>
<p>By default the LDAP client is configured for conventional RFC-2307 queries.  This command permits you to change that so the client instead performs queries suitable for use with other LDAP schema:</p>
<dl>
<dt><strong>AD</strong></dt>
<dd><p>The native schema of Microsoft Active Directory 2012 and newer</p></dd>
<dt><strong>IMU</strong></dt>
<dd><p>Microsoft Identity Management for Unix</p></dd>
<dt><strong>SFU</strong></dt>
<dd><p>Microsoft Windows Services for Unix version 3.x</p></dd>
</dl>
<p>Note that when configuring for SFU or IMU or AD usage, it will most likely also be necessary to modify the server's default search base in order to avoid undesired LDAP referrals. This command does not make that change, you must use the ldap-search-config command.  An example is included below.</p>
<p>The intent of the ldap-schema functionality is to provide a simplified means of configuring the server for the most common LDAP NIS schemas.  The effect is similar to use of the nss_map_attribute and nss_map_objectclass configuration options in unix / linux environments, although the ldap-schema command's relative simplicity doesn't offer the same degree of generality.</p>
<p>If desired, the ldap-schema command may also be used to change individual attribute or class name values used by the LDAP client. This is not recommended (the -s option is much easier to use) but is made available for potential situations where the LDAP server's schema is none of RFC-2307, AD, IMU or SFU. To change individual attribute or class names, the -a or -c options are used.  See the examples below for further information.</p>
<p>Changes made with this command take effect immediately.</p>
<h1>Examples</h1>
<p>Display the current EVS' LDAP schema configuration:</p>
<pre>ldap-schema
</pre>
<p></p>
<p>Set the server's LDAP schema parameters to RFC-2307 style:</p>
<pre>ldap-schema -s rfc2307
</pre>
<p></p>
<p>Set the server's LDAP schema parameters for native Active Directory compatibility:</p>
<pre>ldap-schema -s ad
</pre>
<p></p>
<p>Set the server's LDAP schema parameters for IMU compatibility:</p>
<pre>ldap-schema -s imu
</pre>
<p></p>
<p>Set the server's LDAP schema parameters for IMU compatibility and also change the LDAP search base for a basic IMU-enabled ADS domain ads-dom1.example.com:</p>
<pre>ldap-schema -s imu
ldap-search-config -c "CN=Users,DC=ads-dom1,DC=example,DC=com"
</pre>
<p></p>
<p>Set the server's LDAP schema parameters for SFU compatibility:</p>
<pre>ldap-schema -s sfu
</pre>
<p></p>
<p>Set the server's LDAP schema parameters for SFU compatibility and also change the LDAP search base for a basic SFU-enabled ADS domain ads-dom1.example.com:</p>
<pre>ldap-schema -s sfu
ldap-search-config -c "CN=Users,DC=ads-dom1,DC=example,DC=com"
</pre>
<p></p>
<p>Set the RFC-2307 schema one name at a time.  In practice you would use "-s rfc2307" instead, but this example illustrates the use of the -a and -c switches:</p>
<pre>ldap-schema -a uid=uid
ldap-schema -a uidNumber=uidNumber
ldap-schema -a gid=cn
ldap-schema -a gidNumber=gidNumber
ldap-schema -c user=posixAccount
ldap-schema -c group=posixGroup
</pre>
<p></p>
<p>Set the IMU schema one name at a time:</p>
<pre>ldap-schema -a uid=uid
ldap-schema -a uidNumber=uidNumber
ldap-schema -a gid=cn
ldap-schema -a gidNumber=gidNumber
ldap-schema -c user=user
ldap-schema -c group=group
</pre>
<p></p>
<p>Set the SFU schema one name at a time:</p>
<pre>ldap-schema -a uid=sAMAccountName
ldap-schema -a uidNumber=msSFU30UidNumber
ldap-schema -a gid=cn
ldap-schema -a gidNumber=msSFU30GidNumber
ldap-schema -c user=user
ldap-schema -c group=group
</pre>
<p></p>
<h1>Applies To</h1>
<p>EVS security context</p>
<h1>See Also</h1>
<p><a href="../User/evs-security.html">evs-security</a> <a href="../Topic/ldap.html">ldap</a> <a href="../Supervisor/ldap-search-config.html">ldap-search-config</a> <a href="../Supervisor/ldap-security.html">ldap-security</a> <a href="../Supervisor/ldap-server.html">ldap-server</a></p>
<h1>Privilege Level</h1>
<p>Supervisor</p>
<blockquote></blockquote>
<!--End footer-->
</body>
</html>
