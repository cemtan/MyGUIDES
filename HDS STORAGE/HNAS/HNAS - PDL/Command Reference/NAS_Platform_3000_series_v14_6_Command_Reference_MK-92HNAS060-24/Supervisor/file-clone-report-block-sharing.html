<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>file-clone-report-block-sharing</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
  <style type="text/css">
  <!--
  @page { size: 8.27in 11.69in }
  H1  { font-family: "Verdana", sans-serif }
  H2  { font-family: "Verdana", sans-serif }
  H3  { font-family: "Verdana", sans-serif }
  H4  { font-family: "Verdana", sans-serif }
  P   { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  PRE { font-family: "Courier", monospace;  font-size: 12pt; margin-left: 40px; }
  DT  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  LI  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  -->
  </style>

</head>
<body style="background-color: white">
<!--Start header -->
<!-- html created: 2023-03-07 10:20:39 +0000 oemId: 1 -->
<h1>file-clone-report-block-sharing</h1>
<p>Report how much block sharing there is between a clone and each of its predecessor snapshot-files</p>
<h1>Syntax</h1>
<pre>file-clone-report-block-sharing [-f &lt;file-system&gt;] &lt;clone&gt; [--verbose]
</pre>

<h1>Description</h1>
<p>Lists the Snapshot File objects a clone depends on, and reports how much block sharing there is between each Snapshot File and the clone.</p>
<p>If the clone's data stream is shorter than a Snapshot File's data stream then the truncated region is treated as a divergence.</p>
<dl>
<dt><strong>-f, --file-system</strong></dt>
<dd><p>The file system to work on.  The currently selected file system is used if this option is not specified.</p></dd>
<dt><strong>&lt;clone&gt;</strong></dt>
<dd><p>The path of the clone.</p></dd>
<dd><p>If a Snapshot File object the clone depends on is deleted while this command is running, the command will return "Modifications detected in the specified clone tree - Unable to calculate the shared block count"</p></dd>
<dt><strong>-v, --verbose</strong></dt>
<dd><p>Display human-readable info on the file handle for each reported object.</p></dd>
</dl>
<h1>Examples</h1>
<pre>   $ file-clone-report-block-sharing /vm-disk-images/master-windows-xp-sp3.vdi
   Clone: /vm-disk-images/master-windows-xp-sp3.vdi
     SnapshotFile: FileHandle[000000000000400f000018146826ffff0000000018170000] Blocks shared with clone:  99.023%
     SnapshotFile: FileHandle[000000000000400b000018106826ffffffffffffffffffff] Blocks shared with clone:  97.558%
</pre>
<p></p>
<pre>   $ file-clone-report-block-sharing /clone3
   Clone: /clone3
     SnapshotFile: FileHandle[0000000000006cfd000626d36826ffffffffffffffffffff] Blocks shared with clone: 100.000%
     SnapshotFile: FileHandle[0000000000006b19000626d26826ffffffffffffffffffff] Blocks shared with clone:   0.000%
     SnapshotFile: FileHandle[0000000000006ed1000626d16826ffffffffffffffffffff] Blocks shared with clone:   0.000%
</pre>
<p></p>
<pre>   $ file-clone-report-block-sharing /clone3 -v
   Clone: /clone3
     SnapshotFile: FileHandle[0000000000006cfd000626d36826ffffffffffffffffffff] Blocks shared with clone: 100.000%
                   WfsHandle[objectNumber=27901,reuseCount=403155,MOST_UP_TO_DATE_CP_NUM,WFSAuxInfo[verifier='H' (valid),objectType=OBJ_TYPE_SNAPSHOT_OF_FSOBJECT_FI
LE,volumeNumber=1]]
     SnapshotFile: FileHandle[0000000000006b19000626d26826ffffffffffffffffffff] Blocks shared with clone:   0.000%
                   WfsHandle[objectNumber=27417,reuseCount=403154,MOST_UP_TO_DATE_CP_NUM,WFSAuxInfo[verifier='H' (valid),objectType=OBJ_TYPE_SNAPSHOT_OF_FSOBJECT_FI
LE,volumeNumber=1]]
     SnapshotFile: FileHandle[0000000000006ed1000626d16826ffffffffffffffffffff] Blocks shared with clone:   0.000%
                   WfsHandle[objectNumber=28369,reuseCount=403153,MOST_UP_TO_DATE_CP_NUM,WFSAuxInfo[verifier='H' (valid),objectType=OBJ_TYPE_SNAPSHOT_OF_FSOBJECT_FI
LE,volumeNumber=1]]
</pre>
<p></p>
<h1>Applies To</h1>
<p>File system</p>
<h1>See Also</h1>
<p><a href="../Topic/file-clone.html">file-clone</a> <a href="../Supervisor/file-clone-stat-snapshot-file.html">file-clone-stat-snapshot-file</a></p>
<h1>Privilege Level</h1>
<p>Supervisor</p>
<blockquote></blockquote>
<!--End footer-->
</body>
</html>
