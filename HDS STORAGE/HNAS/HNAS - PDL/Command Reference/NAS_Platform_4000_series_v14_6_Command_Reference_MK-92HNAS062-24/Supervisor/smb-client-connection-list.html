<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>smb-client-connection-list</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
  <style type="text/css">
  <!--
  @page { size: 8.27in 11.69in }
  H1  { font-family: "Verdana", sans-serif }
  H2  { font-family: "Verdana", sans-serif }
  H3  { font-family: "Verdana", sans-serif }
  H4  { font-family: "Verdana", sans-serif }
  P   { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  PRE { font-family: "Courier", monospace;  font-size: 12pt; margin-left: 40px; }
  DT  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  LI  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  -->
  </style>

</head>
<body style="background-color: white">
<!--Start header -->
<!-- html created: 2023-03-05 07:29:14 +0000 oemId: 1 -->
<h1>smb-client-connection-list</h1>
<p>Enumerate the current SMB client connections</p>
<h1>Syntax</h1>
<pre>smb-client-connection-list [-t] [-v]
</pre>

<h1>Description</h1>
<p>The smb-client-connection-list command lists any SMB connections made by the HNAS to another server. Most connections are made <em>to</em> the HNAS by SMB clients connecting to it as a file server.  However, sometimes the HNAS must act as a client - when communicating with a domain controller or virus scanner, for example.</p>
<p>This command may be used to see how many client connections there currently are, to which servers, and which version of the SMB protocol they are using.  Connections may only be viewed and not modified in any way.  Connections are not displayed in any particular order.  The connections displayed are not limited to those from the current EVS and may include connections from other EVSs.</p>
<p>Options:</p>
<dl>
<dt><strong>-v, --verbose</strong></dt>
<dd><p>Increases the level of detail shown for each connection.  Without this option specifield, a brief summary of each connection is shown, which should be sufficient for most purposes.  With this option, a great deal more information is shown for each connection, some of which may be quite technical; typically, this level of detail is only required for advanced troubleshooting.</p></dd>
<dd><p>Note that this option will also cause the display of connections that are not currently connected.  This simply means that the HNAS is aware that it may need to connect to a server in the future (or has done so previously) but that that connection is not currently active.  Such connections are not commonly cause for concern.</p></dd>
<dt><strong>-t, --show-totals</strong></dt>
<dd><p>Shows the total number of each type of connection and the total number of all connections displayed.  This is mainly for convenience.  A particular type's total is listed only if there is one or more of that type of connection displayed, although the overall total is always shown.</p></dd>
<dd><p>Connection types can be considered as connection roles: some connections are used for communicating with domain controllers, others for communicating with a virus scanner, and so on.</p></dd>
</dl>
<h1>Examples</h1>
<pre>$ smb-client-connection-list
          Connection : 3
                Type : Domain Controller
         Server name : DOMAIN-O-TRON-6
      Server address : 172.27.1.2
</pre>
<p></p>
<pre>          Connection : 5
                Type : Virus Scanner
         Server name : VIRUS-MUNCHER-2000
      Server address : 172.27.63.201
</pre>
<p></p>
<pre>$ smb-client-connection-list --show-totals -v
                    Connection : 9 (0x00007FCA19F50380)
                          Type : Domain Controller
                   Server name : DOMAIN-O-TRON-6
                Server address : 172.27.1.2
                 Local address : 172.27.12.213
                     Connected : CONNECTED
              Protocol version : SMB1
                      Next MID : 43
        Remote max buffer size : 16644 bytes
                    Time delta : 0 s
                Remote signing : enabled
                   Credentials : not pre-established
               ADS credentials : default
                 SMB challenge : 00 00 00 00 00 00 00 00
     Outstanding SMB1 requests : 0
     Outstanding SMB2 requests : 0
</pre>
<p></p>
<pre>                    Connection : 2 (0x00007FCA1DBFA200)
                          Type : Virus Scanner
                   Server name : VIRUS-MUNCHER-2000
                Server address : 172.27.63.201
                 Local address : 172.27.12.213
                     Connected : NOT CONNECTED
</pre>
<p></p>
<pre>Totals:
   Domain Controller : 1
       Virus Scanner : 1
There were 2 connections overall.
</pre>
<p></p>
<h1>Applies To</h1>
<p>Cluster node</p>
<h1>See Also</h1>
<p><a href="../Supervisor/cifs-dc.html">cifs-dc</a> <a href="../Supervisor/connection.html">connection</a> <a href="../Supervisor/file-filtering.html">file-filtering</a> <a href="../Supervisor/smb-max-supported-version.html">smb-max-supported-version</a> <a href="../Supervisor/smb-min-supported-version.html">smb-min-supported-version</a> <a href="../Supervisor/virusscan.html">virusscan</a></p>
<h1>Privilege Level</h1>
<p>Supervisor</p>
<blockquote></blockquote>
<!--End footer-->
</body>
</html>
