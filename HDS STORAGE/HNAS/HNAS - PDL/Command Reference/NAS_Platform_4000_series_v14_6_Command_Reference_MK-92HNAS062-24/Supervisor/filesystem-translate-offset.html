<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>filesystem-translate-offset</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
  <style type="text/css">
  <!--
  @page { size: 8.27in 11.69in }
  H1  { font-family: "Verdana", sans-serif }
  H2  { font-family: "Verdana", sans-serif }
  H3  { font-family: "Verdana", sans-serif }
  H4  { font-family: "Verdana", sans-serif }
  P   { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  PRE { font-family: "Courier", monospace;  font-size: 12pt; margin-left: 40px; }
  DT  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  LI  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  -->
  </style>

</head>
<body style="background-color: white">
<!--Start header -->
<!-- html created: 2023-03-05 07:29:14 +0000 oemId: 1 -->
<h1>filesystem-translate-offset</h1>
<p>Translate a filesystem offset into other formats</p>
<h1>Syntax</h1>
<pre>filesystem-translate-offset [--dump &lt;nr-bytes&gt;] [--verbose] [--timeout &lt;nr-seconds&gt;] &lt;filesystem-instance-name&gt; (&lt;fs-byte-offset-or-structure-name&gt;)
</pre>

<h1>Description</h1>
<p>This command is intended for use by your support provider.  It accepts a filesystem instance name and an offset into the filesystem, and prints the equivalent offset in a variety of other ways.</p>
<p>Instead of a filesystem instance name, you can supply a device ID (such as 1024) or a volume number (such as 0).</p>
<p>Specifying '--dump' and a byte-count will read the corresponding data directly from the storage (bypassing the server's caches) and hexdump it on the console.  The command always dumps a whole number of disk blocks, and so '--dump 0' will dump the whole of the disk block that contains the offset you specify.  If you add '--verbose', the command prints the system drive device ID and offset before each block and dumps the data in full; otherwise, repeated lines are suppressed. '--verbose' implies '--dump'.  This command can't dump more than a mebibyte (that is, 2**20 bytes) or beyond the end of a filesystem; to dump further, issue another '*-translate-offset' command.</p>
<p>The '--timeout' switch limits the amount of time that the command spends dumping data.  If the specified time is exceeded, the command will abort.  Without '--dump', '--timeout' is ignored.  The default timeout is 120 seconds.</p>
<p>Instead of an offset, you can specify the name of a file system structure.  For WFS-2, names are of the form 'dsb<strong>X</strong>-<strong>Y</strong>', where X is a DSB number and Y is either 0 (for the original) or 1 (for the copy).</p>
<p>If you specify '--dump 0' along with one of these names, the command will print the whole of the structure and not just its first disk block.</p>
<p>There is no syntax for working with an offset into a deleted filesystem.  If necessary, undelete a filesystem and then translate offsets.</p>
<h1>Examples</h1>
<pre>server:$ filesystem-translate-offset Accounts 0x2132E4DA0
System drive 4, offset 9439038880   (0x2329c4da0)
SD block     18435622  (0x1194e26), offset 416  (0x1a0)
Span         Trio, offset 128061296032   (0x1dd10c4da0)
   ... Chunk 23, offset 3452718496   (0xcdcc4da0)
Stripeset    1, offset 18879368608
   ... Chunk 3, offset 3452718496   (0xcdcc4da0)
Filesystem   Accounts, offset 8911736224   (0x2132e4da0)
   ... Chunk 1, offset 3452718496   (0xcdcc4da0)
server:$
</pre>
<p></p>
<p>This command prints out information about byte 9439038880 of the filesystem called 'Accounts'.  The '0x' prefix indicates that the offset is specified in hex; by default, decimal is used.  All offsets accepted and printed by this and the other six '*-translate-offset' commands are in bytes.</p>
<p>The first line says that the data is stored on system drive 4 at byte offset 9439038880.  The second line translates this byte offset into a block number and a byte offset within the block.  (A block is the smallest amount of information that the server sends to the storage, and is typically 512 bytes; it's not related to file system blocks.)  You could find out more about this system drive by typing 'sd-list --vverbose 4'.</p>
<p>The next two lines say that the data is stored on a span called 'Trio' at byte offset 128061296032.  This is at byte offset 3452718496 of chunk 23 (the 24th chunk in the span).</p>
<p>The next two lines say that the data is stored at byte offset 18879368608 of stripeset 1 (the second stripeset in the span), and that chunk 23 in the span is chunk 3 (the fourth chunk) in this stripeset.</p>
<p>The final two lines give the byte offset within the filesystem, and say that the data is stored at byte offset 3452718496 of chunk 1 (the second chunk) within the filesystem.</p>
<p>For further examples and exposition, see 'sd-translate-offset'.</p>
<h1>Applies To</h1>
<p>Cluster wide</p>
<h1>See Also</h1>
<p><a href="../Topic/chunk.html">chunk</a> <a href="../Supervisor/filesystem-chunk-translate-offset.html">filesystem-chunk-translate-offset</a> <a href="../Supervisor/filesystem-raw-dump.html">filesystem-raw-dump</a> <a href="../Supervisor/filesystem-undelete.html">filesystem-undelete</a> <a href="../User/sd-list.html">sd-list</a> <a href="../Supervisor/sd-translate-offset.html">sd-translate-offset</a> <a href="../Supervisor/span-chunk-translate-offset.html">span-chunk-translate-offset</a> <a href="../Supervisor/span-list-chunks.html">span-list-chunks</a> <a href="../Supervisor/span-translate-offset.html">span-translate-offset</a> <a href="../Supervisor/stripeset-chunk-translate-offset.html">stripeset-chunk-translate-offset</a> <a href="../Supervisor/stripeset-translate-offset.html">stripeset-translate-offset</a></p>
<h1>Privilege Level</h1>
<p>Supervisor</p>
<blockquote></blockquote>
<!--End footer-->
</body>
</html>
