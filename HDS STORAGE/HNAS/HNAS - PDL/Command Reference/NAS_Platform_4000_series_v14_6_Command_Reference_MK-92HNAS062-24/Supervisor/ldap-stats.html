<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>ldap-stats</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
  <style type="text/css">
  <!--
  @page { size: 8.27in 11.69in }
  H1  { font-family: "Verdana", sans-serif }
  H2  { font-family: "Verdana", sans-serif }
  H3  { font-family: "Verdana", sans-serif }
  H4  { font-family: "Verdana", sans-serif }
  P   { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  PRE { font-family: "Courier", monospace;  font-size: 12pt; margin-left: 40px; }
  DT  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  LI  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  -->
  </style>

</head>
<body style="background-color: white">
<!--Start header -->
<!-- html created: 2023-03-05 07:29:14 +0000 oemId: 1 -->
<h1>ldap-stats</h1>
<p>Show / reset query statistics for one or all LDAP servers</p>
<h1>Syntax</h1>
<pre>ldap-stats [-r|--reset] [-g|--graph] [&lt;LDAP server addr&gt;]
</pre>

<h1>Description</h1>
<p>This command is used to display statistics describing the response latency of LDAP servers for different NIS (RFC 2307) request types.  The intent is to help diagnose when an LDAP server isn't fully indexed, but these statistics may also be moderately useful for general performance tuning.</p>
<p>Statistics are collected for successful lookups made using each of the LDAP attributes uid, uidNumber, cn, gidNumber.  Separate statistics are shown for each EVS / LDAP server pair.</p>
<p>A graphical presentation may be included by specifying the --graph option. This shows the distribution of observed request latencies for each attribute listed above.</p>
<p>By default, statistics are shown for all LDAP servers configured via the ldap-server command.  If desired, you may specify a single server address and then only the statistics for that server are displayed (separately for each EVS).  The server address must however be one that is included in the ldap-server address list.</p>
<p>All successful LDAP queries using the attributes noted above are sampled, and all such samples are saved.  The "--reset" option may be used to clear the sample history, for example to study the effects of recent configuration changes.  This command's sample history is also cleared by use of the performance-info-report command.</p>
<h1>Examples</h1>
<p>Display latency statistics for all configured LDAP servers:</p>
<pre>ldap-stats
</pre>
<p></p>
<p>Reset statistics for all configured LDAP servers:</p>
<pre>ldap-stats --reset
</pre>
<p></p>
<p>Reset statistics for one particular LDAP server:</p>
<pre>ldap-stats --reset directory1.example.com
</pre>
<p></p>
<p>Display statistics for a particular LDAP server, and include graphs showing latency values:</p>
<p>ldap-stats --graph directory3.example.com</p>
<h1>Applies To</h1>
<p>Cluster node</p>
<h1>See Also</h1>
<p><a href="../Topic/ldap.html">ldap</a> <a href="../Supervisor/ldap-server.html">ldap-server</a> <a href="../Supervisor/nis-ldap-mode.html">nis-ldap-mode</a> <a href="../Supervisor/performance-info-report.html">performance-info-report</a></p>
<h1>Privilege Level</h1>
<p>Supervisor</p>
<blockquote></blockquote>
<!--End footer-->
</body>
</html>
