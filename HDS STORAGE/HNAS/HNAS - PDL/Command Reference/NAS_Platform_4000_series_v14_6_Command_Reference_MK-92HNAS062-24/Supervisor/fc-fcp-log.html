<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>fc-fcp-log</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
  <style type="text/css">
  <!--
  @page { size: 8.27in 11.69in }
  H1  { font-family: "Verdana", sans-serif }
  H2  { font-family: "Verdana", sans-serif }
  H3  { font-family: "Verdana", sans-serif }
  H4  { font-family: "Verdana", sans-serif }
  P   { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  PRE { font-family: "Courier", monospace;  font-size: 12pt; margin-left: 40px; }
  DT  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  LI  { font-family: "Verdana", sans-serif; font-size: 11pt; margin-left: 40px; }
  -->
  </style>

</head>
<body style="background-color: white">
<!--Start header -->
<!-- html created: 2023-03-05 07:29:14 +0000 oemId: 1 -->
<h1>fc-fcp-log</h1>
<p>Dump/clear the FCP logs</p>
<h1>Syntax</h1>
<pre>fc-fcp-log [-d, --dump][-c, --clear][-s, --size][-h, --help]
Alias:       fcplog
</pre>

<h1>Description</h1>
<p>Shows or clears the contents of the Fibre Channel (FC) FCP log. Only FC FCP errors are written to the FCP log, so normally this log will be empty. <strong>Note:</strong> This may not be true for tape devices.</p>
<p>Console output may be stopped or aborted with a key press or by CTRL-C.</p>
<p>The syntax of a log entry indicates the FCP frame that was in error and the error codes as follows:</p>
<p>If the SCSI command was initiated by software, the SCSI command opcode is shown. If the SCSI command was initiated by the FPGA (fast path), "FPGA resp frame" is shown.</p>
<dl>
<dt><strong>Hx</strong></dt>
<dd><p>x = host port that initiated the exchange (software initiated exchange only).</p></dd>
<dt><strong>LUN n</strong></dt>
<dd><p>LUN n of the target (software initiated exchange only).</p></dd>
<dt><strong>[FC port address]</strong></dt>
<dd><p>The FC address of the target port.</p></dd>
<dt><strong>&lt;exchange index&gt;</strong></dt>
<dd><p>The internally assigned index for the errored exchange.</p></dd>
<dt><strong>status</strong></dt>
<dd><p>Decoded SCSI status.</p></dd>
<dt><strong>exp</strong></dt>
<dd><p>Expected byte count (software initiated exchange only).</p></dd>
<dt><strong>xfr</strong></dt>
<dd><p>Bytes transferred (software initiated exchange only).</p></dd>
<dt><strong>res</strong></dt>
<dd><p>The residual count; the number of data bytes that were not transferred.</p></dd>
<dt><strong>vflgs</strong></dt>
<dd><p>Validity flags.</p></dd>
<dt><strong>senl</strong></dt>
<dd><p>Number of bytes of any SCSI sense data transferred.</p></dd>
<dt><strong>rspl</strong></dt>
<dd><p>Number of bytes of response data (0 or 8 bytes).</p></dd>
<dt><strong>rspcode</strong></dt>
<dd><p>Where 0 = no failure.</p></dd>
</dl>
<p>Options:</p>
<dl>
<dt><strong><strong>&lt;-d, --dump</strong>&gt;</strong></dt>
<dd><p>Displays the contents of the FCP log -- the last 20 entries are output if no range is specified.</p></dd>
<dl>
<dt><strong>[-h, --hport &lt;1..n&gt;]</strong></dt>
<dd><p>Filters by host port.</p></dd>
<dt><strong>[-p, --port &lt;address in hex&gt;]</strong></dt>
<dd><p>Filters by target port address.</p></dd>
<dt><strong>[-l, --lun &lt;LUN&gt;]</strong></dt>
<dd><p>Filters by LUN.</p></dd>
<dt><strong>[-r, --rev]</strong></dt>
<dd><p>Outputs entries in reverse order, oldest last.</p></dd>
<dt><strong>[[-a, --all] | [-n &lt;[-]no of entries to dump&gt;]]</strong></dt>
<dd><p>Outputs all entries -- last n entries, or first n entries if n is negative. If n = 0, dumps entire log; by default, dumps last 20 entries.</p></dd>
</dl>
<dt><strong><strong>-c, --clear</strong></strong></dt>
<dd><p>Clears the FCP log.</p></dd>
<dt><strong>-C, --Conf</strong></dt>
<dd><p>Does not request confirmation.</p></dd>
<dt><strong><strong>-s, --size</strong></strong></dt>
<dd><p>Shows the current and maximum log size.</p></dd>
<dt><strong><strong>-h, --help</strong></strong></dt>
<dd><p>Shows help.</p></dd>
</dl>
<h1>Examples</h1>
<p>To dump the entire FCP log:</p>
<pre>fc-fcp-log -d -a
</pre>
<p></p>
<p>To dump the last 100 entries for target port address 10A00, LUN 1:</p>
<pre>fc-fcp-log -d -p 0x10A00 -l 1 -n 100
</pre>
<p></p>
<p>To clear the FCP log without requesting confirmation:</p>
<pre>fc-fcp-log -c -C
</pre>
<p></p>
<p>To show the max size and current size of the FCP log:</p>
<pre>fc-fcp-log -s
</pre>
<p></p>
<h1>Applies To</h1>
<p>Cluster node</p>
<h1>See Also</h1>
<p><a href="../Supervisor/fc-log.html">fc-log</a> <a href="../Supervisor/fc-ports.html">fc-ports</a></p>
<h1>Privilege Level</h1>
<p>Supervisor</p>
<blockquote></blockquote>
<!--End footer-->
</body>
</html>
